import{template as _}from"solid-js/web";import{delegateEvents as C}from"solid-js/web";import{createComponent as w}from"solid-js/web";import{classList as M}from"solid-js/web";import{effect as p}from"solid-js/web";import{insert as m}from"solid-js/web";import{className as u}from"solid-js/web";import{memo as b}from"solid-js/web";import{createRoot as N,createSignal as S,For as L,onCleanup as B,Show as I}from"solid-js";import{createStore as P}from"solid-js/store";import{render as E}from"solid-js/web";import{tw as o}from"twind";var j=_("<div><p></p></div>",4),$=_("<div></div>",2);var O=e=>{let[t,s]=S(e.duration),l=setInterval(()=>{s(t()-50)},50);return B(()=>{clearInterval(l)}),(()=>{let c=j.cloneNode(!0),v=c.firstChild;return c.$$click=()=>{r.clickCardClose&&x(e.id)},m(c,(()=>{let i=b(()=>!!r.progress,!0);return()=>i()&&(()=>{let n=$.cloneNode(!0);return n.style.setProperty("transform-origin","0% 0%"),p(a=>{let d=[o`absolute w-full left-0 bottom-0 rounded h-[3px]`,e.type==="dark"?o`bg-white opacity-20`:o`bg-black opacity-20`].join(" "),k=`scaleX(${t()/e.duration})`;return d!==a._v$4&&u(n,a._v$4=d),k!==a._v$5&&n.style.setProperty("transform",a._v$5=k),a},{_v$4:void 0,_v$5:void 0}),n})()})(),v),u(v,o`flex-1 break-words whitespace-normal overflow-hidden`),m(v,()=>e.msg),m(c,(()=>{let i=b(()=>!!r.closeButton,!0);return()=>i()&&(()=>{let n=$.cloneNode(!0);return n.$$click=()=>x(e.id),u(n,o`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),n.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,n})()})(),null),p(i=>{let n=r.css[e.type],a={[o`cursor-pointer`]:r.clickCardClose},d=r.padding;return n!==i._v$&&u(c,i._v$=n),i._v$2=M(c,a,i._v$2),d!==i._v$3&&c.style.setProperty("padding",i._v$3=d),i},{_v$:void 0,_v$2:void 0,_v$3:void 0}),c})()},r={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",duration:{info:5e4,error:5e4,success:5e4},css:{error:o`relative overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,success:o`relative overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:o`relative overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:o`relative overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},Component:O},y=!1,T=()=>{y||(y=!0,typeof window!="undefined"&&E(R,document.body))},[f,g]=N(()=>P({show:!0,list:[]})),x=e=>{let t=[];for(let s=0;s<f.list.length;s++){let l=f.list[s];l.id!==e&&t.push(l)}g("list",t)},F=()=>String(Math.random()),h=(e,t,s=r.duration.info)=>{T();let l=F();g("list",[...f.list,{msg:t,type:e,id:l,duration:s}]),setTimeout(()=>{x(l)},s)},Y={options:r,setOptions:e=>{Object.assign(r,e),g("show",!1),g("show",!0)},error:(e,t=r.duration.error)=>{h("error",e,t)},success:(e,t=r.duration.success)=>{h("success",e,t)},light:(e,t=r.duration.info)=>{h("light",e,t)},dark:(e,t=r.duration.info)=>{h("dark",e,t)}},H={top:o`fixed mx-auto top-10 left-1/2 -translate-x-1/2 space-y-4`,center:o`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 space-y-4`,bottom:o`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2 space-y-4`};function R(){return w(I,{get when(){return f.show},children:()=>(()=>{let e=$.cloneNode(!0);return m(e,w(L,{get each(){return f.list},children:t=>w(r.Component,t)})),p(t=>{let s=H[r.position],l=r.width;return s!==t._v$6&&u(e,t._v$6=s),l!==t._v$7&&e.style.setProperty("width",t._v$7=l),t},{_v$6:void 0,_v$7:void 0}),e})()})}C(["click"]);export{R as Message,Y as solidMsg};
