import{template as $}from"solid-js/web";import{delegateEvents as y}from"solid-js/web";import{classList as C}from"solid-js/web";import{effect as p}from"solid-js/web";import{createComponent as v}from"solid-js/web";import{insert as x}from"solid-js/web";import{className as u}from"solid-js/web";import{memo as h}from"solid-js/web";import{createRoot as j,createSignal as N,For as I,onCleanup as S,Show as k}from"solid-js";import{createStore as L}from"solid-js/store";import{render as P}from"solid-js/web";import{tw as o}from"twind";var M=$("<p></p>",2),w=$("<div></div>",2);var B=e=>{let[t,s]=N(e.duration);requestAnimationFrame(()=>{s(t()-500)});let l=setInterval(()=>{let i=t()-500;s(i>0?i:0)},500);return S(()=>{clearInterval(l)}),(()=>{let i=w.cloneNode(!0);return i.$$click=()=>{n.clickCardClose&&b(e.id)},x(i,v(k,{get when(){return!e.removing},get children(){return[h(()=>h(()=>!!n.progress,!0)()&&(()=>{let r=w.cloneNode(!0);return r.style.setProperty("transform-origin","0% 0%"),p(a=>{let m=[o`absolute w-full left-0 bottom-0 rounded h-[3px] ease-linear duration-500 transition-transform`,n.progresCss[e.type]].join(" "),c=`scaleX(${t()/e.duration})`;return m!==a._v$4&&u(r,a._v$4=m),c!==a._v$5&&r.style.setProperty("transform",a._v$5=c),a},{_v$4:void 0,_v$5:void 0}),r})()),(()=>{let r=M.cloneNode(!0);return u(r,o`flex-1 break-words whitespace-normal overflow-hidden`),x(r,()=>e.msg),r})(),h(()=>h(()=>!!n.closeButton,!0)()&&(()=>{let r=w.cloneNode(!0);return r.$$click=()=>b(e.id),u(r,o`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),r.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,r})())]}})),p(r=>{let a=n.css[e.type],m={[o`cursor-pointer`]:n.clickCardClose,[o`h-0 max-h-0 opacity-0 mt-0`]:e.removing,[o`mb-4`]:!e.removing,[o`translate-y-12 translate-x-0 opacity-0`]:e.appending},c=e.removing?"0px":n.padding;return a!==r._v$&&u(i,r._v$=a),r._v$2=C(i,m,r._v$2),c!==r._v$3&&i.style.setProperty("padding",r._v$3=c),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i})()},n={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",zIndex:"2000",duration:1e4,css:{red:o`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:o`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:o`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-green-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:o`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:o`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},progresCss:{light:o`bg-black opacity-20`,dark:o`bg-white opacity-20`,blue:o`bg-indigo-800`,red:o`bg-red-800`,green:o`bg-green-800`},Component:B},_=!1,z=()=>{_||(_=!0,typeof window!="undefined"&&P(q,document.body))},[g,d]=j(()=>L({show:!0,list:[]})),b=e=>{d("list",t=>t.id==e,{removing:!0}),setTimeout(()=>{let t=[];for(let s=0;s<g.list.length;s++){let l=g.list[s];l.id!==e&&t.push(l)}d("list",t)},310)},F=()=>String(Math.random()),f=(e,t,s=n.duration)=>{z();let l=F();d("list",[...g.list,{msg:t,type:e,id:l,duration:s,appending:!0}]),requestAnimationFrame(()=>{d("list",i=>i.id===l,{appending:!1})}),setTimeout(()=>{b(l)},s)},V={options:n,setOptions:e=>{Object.assign(n,e),d("show",!1),d("show",!0)},red:(e,t=n.duration)=>{f("red",e,t)},blue:(e,t=n.duration)=>{f("blue",e,t)},green:(e,t=n.duration)=>{f("green",e,t)},light:(e,t=n.duration)=>{f("light",e,t)},dark:(e,t=n.duration)=>{f("dark",e,t)}},T={top:o`fixed mx-auto top-10 left-1/2 -translate-x-1/2`,center:o`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`,bottom:o`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2`};function q(){return v(k,{get when(){return g.show},children:()=>(()=>{let e=w.cloneNode(!0);return x(e,v(I,{get each(){return g.list},children:t=>v(n.Component,t)})),p(t=>{let s=T[n.position],l=n.width,i=n.zIndex;return s!==t._v$6&&u(e,t._v$6=s),l!==t._v$7&&e.style.setProperty("width",t._v$7=l),i!==t._v$8&&e.style.setProperty("z-index",t._v$8=i),t},{_v$6:void 0,_v$7:void 0,_v$8:void 0}),e})()})}y(["click"]);export{q as Message,V as solidMsg};
