import{template as b}from"solid-js/web";import{delegateEvents as C}from"solid-js/web";import{createComponent as w}from"solid-js/web";import{classList as M}from"solid-js/web";import{effect as v}from"solid-js/web";import{insert as f}from"solid-js/web";import{className as d}from"solid-js/web";import{memo as _}from"solid-js/web";import{createRoot as N,createSignal as S,For as L,onCleanup as B,Show as I}from"solid-js";import{createStore as P}from"solid-js/store";import{render as E}from"solid-js/web";import{tw as o}from"twind";var j=b("<div><p></p></div>",4),p=b("<div></div>",2);var O=e=>{let[t,s]=S(e.duration),i=setInterval(()=>{s(t()-50)},50);return B(()=>{clearInterval(i)}),(()=>{let c=j.cloneNode(!0),g=c.firstChild;return c.$$click=()=>{r.clickCardClose&&x(e.id)},f(c,(()=>{let l=_(()=>!!r.progress,!0);return()=>l()&&(()=>{let n=p.cloneNode(!0);return n.style.setProperty("transform-origin","0% 0%"),v(a=>{let $=[o`absolute w-full left-0 bottom-0 rounded h-[3px]`,e.type==="dark"?o`bg-white opacity-20`:o`bg-black opacity-20`].join(" "),k=`scaleX(${t()/e.duration})`;return $!==a._v$3&&d(n,a._v$3=$),k!==a._v$4&&n.style.setProperty("transform",a._v$4=k),a},{_v$3:void 0,_v$4:void 0}),n})()})(),g),d(g,o`flex-1 break-words whitespace-normal overflow-hidden`),f(g,()=>e.msg),f(c,(()=>{let l=_(()=>!!r.closeButton,!0);return()=>l()&&(()=>{let n=p.cloneNode(!0);return n.$$click=()=>x(e.id),d(n,o`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),n.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,n})()})(),null),v(l=>{let n=r.css[e.type],a={[o`cursor-pointer`]:r.clickCardClose};return n!==l._v$&&d(c,l._v$=n),l._v$2=M(c,a,l._v$2),l},{_v$:void 0,_v$2:void 0}),c})()},r={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,duration:{info:5e4,error:5e4,success:5e4},css:{error:o`relative overflow-hidden w-full inline-block p-2 bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,success:o`relative overflow-hidden w-full p-2 inline-block bg-indigo-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:o`relative overflow-hidden w-full p-2 inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:o`relative overflow-hidden w-full p-2 inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},Component:O},y=!1,T=()=>{y||(y=!0,typeof window!="undefined"&&E(R,document.body))},[u,m]=N(()=>P({show:!0,list:[]})),x=e=>{let t=[];for(let s=0;s<u.list.length;s++){let i=u.list[s];i.id!==e&&t.push(i)}m("list",t)},F=()=>String(Math.random()),h=(e,t,s=r.duration.info)=>{T();let i=F();m("list",[...u.list,{msg:t,type:e,id:i,duration:s}]),setTimeout(()=>{x(i)},s)},Y={options:r,setOptions:e=>{Object.assign(r,e),m("show",!1),m("show",!0)},error:(e,t=r.duration.error)=>{h("error",e,t)},success:(e,t=r.duration.success)=>{h("success",e,t)},light:(e,t=r.duration.info)=>{h("light",e,t)},dark:(e,t=r.duration.info)=>{h("dark",e,t)}},H={top:o`fixed mx-auto top-10 left-1/2 -translate-x-1/2 space-y-4`,center:o`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 space-y-4`,bottom:o`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2 space-y-4`};function R(){return w(I,{get when(){return u.show},children:()=>(()=>{let e=p.cloneNode(!0);return f(e,w(L,{get each(){return u.list},children:t=>w(r.Component,t)})),v(t=>{let s=H[r.position],i=r.width;return s!==t._v$5&&d(e,t._v$5=s),i!==t._v$6&&e.style.setProperty("width",t._v$6=i),t},{_v$5:void 0,_v$6:void 0}),e})()})}C(["click"]);export{R as Message,Y as solidMsg};
