import{template as _}from"solid-js/web";import{delegateEvents as j}from"solid-js/web";import{createComponent as x}from"solid-js/web";import{classList as k}from"solid-js/web";import{effect as w}from"solid-js/web";import{insert as h}from"solid-js/web";import{className as f}from"solid-js/web";import{memo as y}from"solid-js/web";import{createRoot as N,createSignal as P,For as S,onMount as L,Show as B}from"solid-js";import{createStore as I}from"solid-js/store";import{render as z}from"solid-js/web";import{create as F}from"twind";var M=_("<div><div></div></div>",4),p=_("<div></div>",2),{tw:r,setup:T}=F();T({preflight:!1,hash:e=>"solid-msg"+e});var q=e=>{let[t,l]=P(1);return L(()=>{requestAnimationFrame(()=>{l(0)})}),(()=>{let n=M.cloneNode(!0),a=n.firstChild;return n.$$click=()=>{o.clickCardClose&&b(e.id)},h(n,(()=>{let i=y(()=>!!o.progress,!0);return()=>i()&&(()=>{let s=p.cloneNode(!0);return s.style.setProperty("transform-origin","0% 0%"),w(d=>{let u=[r`absolute w-full left-0 bottom-0 rounded h-[3px] ease-linear duration-500 transition-transform`,o.progresCss[e.type]].join(" "),v=`scaleX(${t()})`,$=e.duration+"ms";return u!==d._v$5&&f(s,d._v$5=u),v!==d._v$6&&s.style.setProperty("transform",d._v$6=v),$!==d._v$7&&s.style.setProperty("transition-duration",d._v$7=$),d},{_v$5:void 0,_v$6:void 0,_v$7:void 0}),s})()})(),a),f(a,r`font-normal font-sans text-center flex-1 break-words whitespace-normal overflow-hidden`),h(a,()=>e.msg),h(n,(()=>{let i=y(()=>!!o.closeButton,!0);return()=>i()&&(()=>{let s=p.cloneNode(!0);return s.$$click=()=>b(e.id),f(s,r`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),s.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,s})()})(),null),w(i=>{let s=o.css[e.type],d={[r`origin-center`]:!0,[r`sm:cursor-pointer`]:o.clickCardClose,[r`h-0 max-h-0 opacity-0 mt-0`]:e.removing,[r`mb-4`]:!e.removing,[r`translate-y-12 translate-x-0 opacity-0`]:e.appending},u=e.removing?"0px":o.padding,v={[r`opacity-0`]:e.removing};return s!==i._v$&&f(n,i._v$=s),i._v$2=k(n,d,i._v$2),u!==i._v$3&&n.style.setProperty("padding",i._v$3=u),i._v$4=k(a,v,i._v$4),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},o={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",zIndex:"2000",duration:1e4,css:{red:r`text-base relative origin-center transition-all duration-300 ease-out overflow-hidden inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:r`text-base relative origin-center transition-all duration-300 ease-out overflow-hidden inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:r`text-base relative origin-center transition-all duration-300 ease-out overflow-hidden inline-block bg-green-500 dark:bg-black text-white rounded-lg border-1 flex flex-row items-center justify-center shadow-lg`,light:r`text-base relative origin-center transition-all duration-300 ease-out overflow-hidden inline-block bg-white dark:bg-black text-black dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:r`text-base relative origin-center transition-all duration-300 ease-out overflow-hidden inline-block bg-black dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`},progresCss:{light:r`bg-black opacity-20`,dark:r`bg-white opacity-20`,blue:r`bg-indigo-800`,red:r`bg-red-800`,green:r`bg-green-800`},Component:q},C=!1,A=()=>{C||(C=!0,typeof window!="undefined"&&z(R,document.body))},[g,c]=N(()=>I({show:!0,list:[]})),b=e=>{c("list",t=>t.id==e,{removing:!0}),setTimeout(()=>{let t=[];for(let l=0;l<g.list.length;l++){let n=g.list[l];n.id!==e&&t.push(n)}c("list",t)},310)},E=()=>String(Math.random()),m=(e,t,l=o.duration)=>{A();let n=E();c("list",[...g.list,{msg:t,type:e,id:n,duration:l,appending:!0}]),requestAnimationFrame(()=>{c("list",a=>a.id===n,{appending:!1})}),setTimeout(()=>{b(n)},l)},ee={options:o,setOptions:e=>{Object.assign(o,e),c("show",!1),c("show",!0)},red:(e,t=o.duration)=>{m("red",e,t)},blue:(e,t=o.duration)=>{m("blue",e,t)},green:(e,t=o.duration)=>{m("green",e,t)},light:(e,t=o.duration)=>{m("light",e,t)},dark:(e,t=o.duration)=>{m("dark",e,t)}},O={top:r`fixed mx-auto top-10 left-1/2 -translate-x-1/2 flex flex-col items-center justify-center transition-all duration-200 ease-out`,topRight:r`fixed mx-auto top-10 right-10 flex flex-col items-center justify-center transition-all duration-200 ease-out`,center:r`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center  transition-all duration-200 ease-out`,bottom:r`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center justify-center  transition-all duration-200 ease-out`};function R(){return x(B,{get when(){return g.show},children:()=>(()=>{let e=p.cloneNode(!0);return h(e,x(S,{get each(){return g.list},children:t=>x(o.Component,t)})),w(t=>{let l=O[o.position],n=o.width,a=o.zIndex;return l!==t._v$8&&f(e,t._v$8=l),n!==t._v$9&&e.style.setProperty("max-width",t._v$9=n),a!==t._v$10&&e.style.setProperty("z-index",t._v$10=a),t},{_v$8:void 0,_v$9:void 0,_v$10:void 0}),e})()})}j(["click"]);export{R as Message,T as setup,ee as solidMsg,r as tw};
