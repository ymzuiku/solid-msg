import{template as _}from"solid-js/web";import{delegateEvents as j}from"solid-js/web";import{createComponent as x}from"solid-js/web";import{classList as k}from"solid-js/web";import{effect as p}from"solid-js/web";import{insert as w}from"solid-js/web";import{className as f}from"solid-js/web";import{memo as y}from"solid-js/web";import{createRoot as I,createSignal as N,For as S,onCleanup as L,Show as P}from"solid-js";import{createStore as B}from"solid-js/store";import{render as z}from"solid-js/web";import{tw as r}from"twind";var M=_("<div><p></p></div>",4),b=_("<div></div>",2);var F=e=>{let[t,s]=N(e.duration);requestAnimationFrame(()=>{s(t()-500)});let a=setInterval(()=>{let n=t()-500;s(n>0?n:0)},500);return L(()=>{clearInterval(a)}),(()=>{let n=M.cloneNode(!0),v=n.firstChild;return n.$$click=()=>{o.clickCardClose&&$(e.id)},w(n,(()=>{let i=y(()=>!!o.progress,!0);return()=>i()&&(()=>{let l=b.cloneNode(!0);return l.style.setProperty("transform-origin","0% 0%"),p(d=>{let u=[r`absolute w-full left-0 bottom-0 rounded h-[3px] ease-linear duration-500 transition-transform`,o.progresCss[e.type]].join(" "),h=`scaleX(${t()/e.duration})`;return u!==d._v$5&&f(l,d._v$5=u),h!==d._v$6&&l.style.setProperty("transform",d._v$6=h),d},{_v$5:void 0,_v$6:void 0}),l})()})(),v),f(v,r`text-center flex-1 break-words whitespace-normal overflow-hidden`),w(v,()=>e.msg),w(n,(()=>{let i=y(()=>!!o.closeButton,!0);return()=>i()&&(()=>{let l=b.cloneNode(!0);return l.$$click=()=>$(e.id),f(l,r`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),l.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,l})()})(),null),p(i=>{let l=o.css[e.type],d={[r`origin-center`]:!0,[r`sm:cursor-pointer`]:o.clickCardClose,[r`h-0 max-h-0 opacity-0 mt-0`]:e.removing,[r`mb-4`]:!e.removing,[r`translate-y-12 translate-x-0 opacity-0`]:e.appending},u=e.removing?"0px":o.padding,h={[r`opacity-0`]:e.removing};return l!==i._v$&&f(n,i._v$=l),i._v$2=k(n,d,i._v$2),u!==i._v$3&&n.style.setProperty("padding",i._v$3=u),i._v$4=k(v,h,i._v$4),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()},o={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",zIndex:"2000",duration:1e4,css:{red:r`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:r`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:r`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-green-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:r`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:r`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},progresCss:{light:r`bg-black opacity-20`,dark:r`bg-white opacity-20`,blue:r`bg-indigo-800`,red:r`bg-red-800`,green:r`bg-green-800`},Component:F},C=!1,T=()=>{C||(C=!0,typeof window!="undefined"&&z(E,document.body))},[g,c]=I(()=>B({show:!0,list:[]})),$=e=>{c("list",t=>t.id==e,{removing:!0}),setTimeout(()=>{let t=[];for(let s=0;s<g.list.length;s++){let a=g.list[s];a.id!==e&&t.push(a)}c("list",t)},310)},q=()=>String(Math.random()),m=(e,t,s=o.duration)=>{T();let a=q();c("list",[...g.list,{msg:t,type:e,id:a,duration:s,appending:!0}]),requestAnimationFrame(()=>{c("list",n=>n.id===a,{appending:!1})}),setTimeout(()=>{$(a)},s)},Y={options:o,setOptions:e=>{Object.assign(o,e),c("show",!1),c("show",!0)},red:(e,t=o.duration)=>{m("red",e,t)},blue:(e,t=o.duration)=>{m("blue",e,t)},green:(e,t=o.duration)=>{m("green",e,t)},light:(e,t=o.duration)=>{m("light",e,t)},dark:(e,t=o.duration)=>{m("dark",e,t)}},A={top:r`fixed mx-auto top-10 left-1/2 -translate-x-1/2 flex flex-col items-center justify-center transition-all duration-200 ease-out`,topRight:r`fixed mx-auto top-10 right-10 flex flex-col items-center justify-center transition-all duration-200 ease-out`,center:r`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center  transition-all duration-200 ease-out`,bottom:r`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center justify-center  transition-all duration-200 ease-out`};function E(){return x(P,{get when(){return g.show},children:()=>(()=>{let e=b.cloneNode(!0);return w(e,x(S,{get each(){return g.list},children:t=>x(o.Component,t)})),p(t=>{let s=A[o.position],a=o.width,n=o.zIndex;return s!==t._v$7&&f(e,t._v$7=s),a!==t._v$8&&e.style.setProperty("max-width",t._v$8=a),n!==t._v$9&&e.style.setProperty("z-index",t._v$9=n),t},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),e})()})}j(["click"]);export{E as Message,Y as solidMsg};
