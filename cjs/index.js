var $=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var B=e=>$(e,"__esModule",{value:!0});var z=(e,t)=>{for(var r in t)$(e,r,{get:t[r],enumerable:!0})},F=(e,t,r,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of L(t))!P.call(e,i)&&(r||i!=="default")&&$(e,i,{get:()=>t[i],enumerable:!(l=S(t,i))||l.enumerable});return e};var T=(e=>(t,r)=>e&&e.get(t)||(r=F(B({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var X={};z(X,{Message:()=>I,solidMsg:()=>H});var k=require("solid-js/web"),y=require("solid-js/web"),C=require("solid-js/web"),p=require("solid-js/web"),f=require("solid-js/web"),x=require("solid-js/web"),c=require("solid-js/web"),m=require("solid-js/web"),a=require("solid-js"),M=require("solid-js/store"),j=require("solid-js/web"),n=require("twind"),q=(0,k.template)("<p></p>",2),b=(0,k.template)("<div></div>",2);var A=e=>{let[t,r]=(0,a.createSignal)(e.duration);requestAnimationFrame(()=>{r(t()-500)});let l=setInterval(()=>{let i=t()-500;r(i>0?i:0)},500);return(0,a.onCleanup)(()=>{clearInterval(l)}),(()=>{let i=b.cloneNode(!0);return i.$$click=()=>{s.clickCardClose&&_(e.id)},(0,x.insert)(i,(0,f.createComponent)(a.Show,{get when(){return!e.removing},get children(){return[(0,m.memo)(()=>(0,m.memo)(()=>!!s.progress,!0)()&&(()=>{let o=b.cloneNode(!0);return o.style.setProperty("transform-origin","0% 0%"),(0,p.effect)(d=>{let w=[n.tw`absolute w-full left-0 bottom-0 rounded h-[3px] ease-linear duration-500 transition-transform`,s.progresCss[e.type]].join(" "),g=`scaleX(${t()/e.duration})`;return w!==d._v$4&&(0,c.className)(o,d._v$4=w),g!==d._v$5&&o.style.setProperty("transform",d._v$5=g),d},{_v$4:void 0,_v$5:void 0}),o})()),(()=>{let o=q.cloneNode(!0);return(0,c.className)(o,n.tw`flex-1 break-words whitespace-normal overflow-hidden`),(0,x.insert)(o,()=>e.msg),o})(),(0,m.memo)(()=>(0,m.memo)(()=>!!s.closeButton,!0)()&&(()=>{let o=b.cloneNode(!0);return o.$$click=()=>_(e.id),(0,c.className)(o,n.tw`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),o.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,o})())]}})),(0,p.effect)(o=>{let d=s.css[e.type],w={[n.tw`cursor-pointer`]:s.clickCardClose,[n.tw`h-0 max-h-0 opacity-0 mt-0`]:e.removing,[n.tw`mb-4`]:!e.removing,[n.tw`translate-y-12 translate-x-0 opacity-0`]:e.appending},g=e.removing?"0px":s.padding;return d!==o._v$&&(0,c.className)(i,o._v$=d),o._v$2=(0,C.classList)(i,w,o._v$2),g!==o._v$3&&i.style.setProperty("padding",o._v$3=g),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),i})()},s={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",zIndex:"2000",duration:1e4,css:{red:n.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:n.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:n.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-green-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:n.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:n.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},progresCss:{light:n.tw`bg-black opacity-20`,dark:n.tw`bg-white opacity-20`,blue:n.tw`bg-indigo-800`,red:n.tw`bg-red-800`,green:n.tw`bg-green-800`},Component:A},N=!1,E=()=>{N||(N=!0,typeof window!="undefined"&&(0,j.render)(I,document.body))},[v,u]=(0,a.createRoot)(()=>(0,M.createStore)({show:!0,list:[]})),_=e=>{u("list",t=>t.id==e,{removing:!0}),setTimeout(()=>{let t=[];for(let r=0;r<v.list.length;r++){let l=v.list[r];l.id!==e&&t.push(l)}u("list",t)},310)},O=()=>String(Math.random()),h=(e,t,r=s.duration)=>{E();let l=O();u("list",[...v.list,{msg:t,type:e,id:l,duration:r,appending:!0}]),requestAnimationFrame(()=>{u("list",i=>i.id===l,{appending:!1})}),setTimeout(()=>{_(l)},r)},H={options:s,setOptions:e=>{Object.assign(s,e),u("show",!1),u("show",!0)},red:(e,t=s.duration)=>{h("red",e,t)},blue:(e,t=s.duration)=>{h("blue",e,t)},green:(e,t=s.duration)=>{h("green",e,t)},light:(e,t=s.duration)=>{h("light",e,t)},dark:(e,t=s.duration)=>{h("dark",e,t)}},R={top:n.tw`fixed mx-auto top-10 left-1/2 -translate-x-1/2`,center:n.tw`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`,bottom:n.tw`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2`};function I(){return(0,f.createComponent)(a.Show,{get when(){return v.show},children:()=>(()=>{let e=b.cloneNode(!0);return(0,x.insert)(e,(0,f.createComponent)(a.For,{get each(){return v.list},children:t=>(0,f.createComponent)(s.Component,t)})),(0,p.effect)(t=>{let r=R[s.position],l=s.width,i=s.zIndex;return r!==t._v$6&&(0,c.className)(e,t._v$6=r),l!==t._v$7&&e.style.setProperty("width",t._v$7=l),i!==t._v$8&&e.style.setProperty("z-index",t._v$8=i),t},{_v$6:void 0,_v$7:void 0,_v$8:void 0}),e})()})}(0,y.delegateEvents)(["click"]);module.exports=T(X);
