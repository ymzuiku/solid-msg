var $=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var B=e=>$(e,"__esModule",{value:!0});var z=(e,t)=>{for(var n in t)$(e,n,{get:t[n],enumerable:!0})},T=(e,t,n,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of L(t))!P.call(e,s)&&(n||s!=="default")&&$(e,s,{get:()=>t[s],enumerable:!(l=S(t,s))||l.enumerable});return e};var E=(e=>(t,n)=>e&&e.get(t)||(n=T(B({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var X={};z(X,{Message:()=>I,solidMsg:()=>H});var k=require("solid-js/web"),y=require("solid-js/web"),C=require("solid-js/web"),p=require("solid-js/web"),f=require("solid-js/web"),x=require("solid-js/web"),c=require("solid-js/web"),m=require("solid-js/web"),a=require("solid-js"),M=require("solid-js/store"),j=require("solid-js/web"),o=require("twind"),F=(0,k.template)("<p></p>",2),b=(0,k.template)("<div></div>",2);var O=e=>{let[t,n]=(0,a.createSignal)(e.duration),l=setInterval(()=>{n(t()-50)},50);return(0,a.onCleanup)(()=>{clearInterval(l)}),(()=>{let s=b.cloneNode(!0);return s.$$click=()=>{i.clickCardClose&&_(e.id)},(0,x.insert)(s,(0,f.createComponent)(a.Show,{get when(){return!e.removing},get children(){return[(0,m.memo)(()=>(0,m.memo)(()=>!!i.progress,!0)()&&(()=>{let r=b.cloneNode(!0);return r.style.setProperty("transform-origin","0% 0%"),(0,p.effect)(d=>{let w=[o.tw`absolute w-full left-0 bottom-0 rounded h-[3px]`,i.progresCss[e.type]].join(" "),g=`scaleX(${t()/e.duration})`;return w!==d._v$4&&(0,c.className)(r,d._v$4=w),g!==d._v$5&&r.style.setProperty("transform",d._v$5=g),d},{_v$4:void 0,_v$5:void 0}),r})()),(()=>{let r=F.cloneNode(!0);return(0,c.className)(r,o.tw`flex-1 break-words whitespace-normal overflow-hidden`),(0,x.insert)(r,()=>e.msg),r})(),(0,m.memo)(()=>(0,m.memo)(()=>!!i.closeButton,!0)()&&(()=>{let r=b.cloneNode(!0);return r.$$click=()=>_(e.id),(0,c.className)(r,o.tw`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),r.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,r})())]}})),(0,p.effect)(r=>{let d=i.css[e.type],w={[o.tw`cursor-pointer`]:i.clickCardClose,[o.tw`h-0 max-h-0 opacity-0 mt-0`]:e.removing,[o.tw`mb-4`]:!e.removing,[o.tw`translate-y-12 translate-x-0 opacity-0`]:e.appending},g=e.removing?"0px":i.padding;return d!==r._v$&&(0,c.className)(s,r._v$=d),r._v$2=(0,C.classList)(s,w,r._v$2),g!==r._v$3&&s.style.setProperty("padding",r._v$3=g),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),s})()},i={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",zIndex:"2000",duration:1e4,css:{red:o.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:o.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:o.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-green-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:o.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:o.tw`relative origin-center transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},progresCss:{light:o.tw`bg-black opacity-20`,dark:o.tw`bg-white opacity-20`,blue:o.tw`bg-indigo-800`,red:o.tw`bg-red-800`,green:o.tw`bg-green-800`},Component:O},N=!1,q=()=>{N||(N=!0,typeof window!="undefined"&&(0,j.render)(I,document.body))},[v,u]=(0,a.createRoot)(()=>(0,M.createStore)({show:!0,list:[]})),_=e=>{u("list",t=>t.id==e,{removing:!0}),setTimeout(()=>{let t=[];for(let n=0;n<v.list.length;n++){let l=v.list[n];l.id!==e&&t.push(l)}u("list",t)},310)},A=()=>String(Math.random()),h=(e,t,n=i.duration)=>{q();let l=A();u("list",[...v.list,{msg:t,type:e,id:l,duration:n,appending:!0}]),requestAnimationFrame(()=>{u("list",s=>s.id===l,{appending:!1})}),setTimeout(()=>{_(l)},n)},H={options:i,setOptions:e=>{Object.assign(i,e),u("show",!1),u("show",!0)},red:(e,t=i.duration)=>{h("red",e,t)},blue:(e,t=i.duration)=>{h("blue",e,t)},green:(e,t=i.duration)=>{h("green",e,t)},light:(e,t=i.duration)=>{h("light",e,t)},dark:(e,t=i.duration)=>{h("dark",e,t)}},R={top:o.tw`fixed mx-auto top-10 left-1/2 -translate-x-1/2`,center:o.tw`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`,bottom:o.tw`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2`};function I(){return(0,f.createComponent)(a.Show,{get when(){return v.show},children:()=>(()=>{let e=b.cloneNode(!0);return(0,x.insert)(e,(0,f.createComponent)(a.For,{get each(){return v.list},children:t=>(0,f.createComponent)(i.Component,t)})),(0,p.effect)(t=>{let n=R[i.position],l=i.width,s=i.zIndex;return n!==t._v$6&&(0,c.className)(e,t._v$6=n),l!==t._v$7&&e.style.setProperty("width",t._v$7=l),s!==t._v$8&&e.style.setProperty("z-index",t._v$8=s),t},{_v$6:void 0,_v$7:void 0,_v$8:void 0}),e})()})}(0,y.delegateEvents)(["click"]);module.exports=E(X);
