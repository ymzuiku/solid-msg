var k=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var I=Object.prototype.hasOwnProperty;var P=e=>k(e,"__esModule",{value:!0});var T=(e,t)=>{for(var o in t)k(e,o,{get:t[o],enumerable:!0})},E=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of B(t))!I.call(e,l)&&(o||l!=="default")&&k(e,l,{get:()=>t[l],enumerable:!(s=L(t,l))||s.enumerable});return e};var O=(e=>(t,o)=>e&&e.get(t)||(o=E(P({}),t,1),e&&e.set(t,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var A={};T(A,{Message:()=>S,solidMsg:()=>q});var $=require("solid-js/web"),y=require("solid-js/web"),C=require("solid-js/web"),p=require("solid-js/web"),g=require("solid-js/web"),b=require("solid-js/web"),c=require("solid-js/web"),f=require("solid-js/web"),a=require("solid-js"),M=require("solid-js/store"),j=require("solid-js/web"),n=require("twind"),F=(0,$.template)("<p></p>",2),x=(0,$.template)("<div></div>",2);var H=e=>{let[t,o]=(0,a.createSignal)(e.duration),s=setInterval(()=>{o(t()-50)},50);return(0,a.onCleanup)(()=>{clearInterval(s)}),(()=>{let l=x.cloneNode(!0);return l.$$click=()=>{i.clickCardClose&&_(e.id)},(0,b.insert)(l,(0,g.createComponent)(a.Show,{get when(){return!e.pending},get children(){return[(0,f.memo)(()=>(0,f.memo)(()=>!!i.progress,!0)()&&(()=>{let r=x.cloneNode(!0);return r.style.setProperty("transform-origin","0% 0%"),(0,p.effect)(d=>{let v=[n.tw`absolute w-full left-0 bottom-0 rounded h-[3px]`,i.progresCss[e.type]].join(" "),u=`scaleX(${t()/e.duration})`;return v!==d._v$4&&(0,c.className)(r,d._v$4=v),u!==d._v$5&&r.style.setProperty("transform",d._v$5=u),d},{_v$4:void 0,_v$5:void 0}),r})()),(()=>{let r=F.cloneNode(!0);return(0,c.className)(r,n.tw`flex-1 break-words whitespace-normal overflow-hidden`),(0,b.insert)(r,()=>e.msg),r})(),(0,f.memo)(()=>(0,f.memo)(()=>!!i.closeButton,!0)()&&(()=>{let r=x.cloneNode(!0);return r.$$click=()=>_(e.id),(0,c.className)(r,n.tw`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),r.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,r})())]}})),(0,p.effect)(r=>{let d=i.css[e.type],v={[n.tw`cursor-pointer`]:i.clickCardClose,[n.tw`h-0 max-h-0 opacity-0 mt-0`]:e.pending,[n.tw`mt-4`]:!e.pending},u=e.pending?"0px":i.padding;return d!==r._v$&&(0,c.className)(l,r._v$=d),r._v$2=(0,C.classList)(l,v,r._v$2),u!==r._v$3&&l.style.setProperty("padding",r._v$3=u),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),l})()},i={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",duration:1e4,css:{red:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-green-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},progresCss:{light:n.tw`bg-black opacity-20`,dark:n.tw`bg-white opacity-20`,blue:n.tw`bg-indigo-800`,red:n.tw`bg-red-800`,green:n.tw`bg-green-800`},Component:H},N=!1,R=()=>{N||(N=!0,typeof window!="undefined"&&(0,j.render)(S,document.body))},[m,h]=(0,a.createRoot)(()=>(0,M.createStore)({show:!0,list:[]})),_=e=>{h("list",t=>t.id==e,{pending:!0}),setTimeout(()=>{let t=[];for(let o=0;o<m.list.length;o++){let s=m.list[o];s.id!==e&&t.push(s)}h("list",t)},310)},X=()=>String(Math.random()),w=(e,t,o=i.duration)=>{R();let s=X();h("list",[...m.list,{msg:t,type:e,id:s,duration:o}]),setTimeout(()=>{_(s)},o)},q={options:i,setOptions:e=>{Object.assign(i,e),h("show",!1),h("show",!0)},red:(e,t=i.duration)=>{w("red",e,t)},blue:(e,t=i.duration)=>{w("blue",e,t)},green:(e,t=i.duration)=>{w("green",e,t)},light:(e,t=i.duration)=>{w("light",e,t)},dark:(e,t=i.duration)=>{w("dark",e,t)}},z={top:n.tw`fixed mx-auto top-10 left-1/2 -translate-x-1/2`,center:n.tw`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`,bottom:n.tw`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2`};function S(){return(0,g.createComponent)(a.Show,{get when(){return m.show},children:()=>(()=>{let e=x.cloneNode(!0);return(0,b.insert)(e,(0,g.createComponent)(a.For,{get each(){return m.list},children:t=>(0,g.createComponent)(i.Component,t)})),(0,p.effect)(t=>{let o=z[i.position],s=i.width;return o!==t._v$6&&(0,c.className)(e,t._v$6=o),s!==t._v$7&&e.style.setProperty("width",t._v$7=s),t},{_v$6:void 0,_v$7:void 0}),e})()})}(0,y.delegateEvents)(["click"]);module.exports=O(A);
