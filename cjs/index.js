var $=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var B=e=>$(e,"__esModule",{value:!0});var z=(e,t)=>{for(var o in t)$(e,o,{get:t[o],enumerable:!0})},T=(e,t,o,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of L(t))!P.call(e,s)&&(o||s!=="default")&&$(e,s,{get:()=>t[s],enumerable:!(l=S(t,s))||l.enumerable});return e};var E=(e=>(t,o)=>e&&e.get(t)||(o=T(B({}),t,1),e&&e.set(t,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var A={};z(A,{Message:()=>I,solidMsg:()=>X});var k=require("solid-js/web"),y=require("solid-js/web"),C=require("solid-js/web"),p=require("solid-js/web"),g=require("solid-js/web"),x=require("solid-js/web"),c=require("solid-js/web"),f=require("solid-js/web"),a=require("solid-js"),M=require("solid-js/store"),j=require("solid-js/web"),n=require("twind"),O=(0,k.template)("<p></p>",2),b=(0,k.template)("<div></div>",2);var F=e=>{let[t,o]=(0,a.createSignal)(e.duration),l=setInterval(()=>{o(t()-50)},50);return(0,a.onCleanup)(()=>{clearInterval(l)}),(()=>{let s=b.cloneNode(!0);return s.$$click=()=>{i.clickCardClose&&_(e.id)},(0,x.insert)(s,(0,g.createComponent)(a.Show,{get when(){return!e.pending},get children(){return[(0,f.memo)(()=>(0,f.memo)(()=>!!i.progress,!0)()&&(()=>{let r=b.cloneNode(!0);return r.style.setProperty("transform-origin","0% 0%"),(0,p.effect)(d=>{let v=[n.tw`absolute w-full left-0 bottom-0 rounded h-[3px]`,i.progresCss[e.type]].join(" "),u=`scaleX(${t()/e.duration})`;return v!==d._v$4&&(0,c.className)(r,d._v$4=v),u!==d._v$5&&r.style.setProperty("transform",d._v$5=u),d},{_v$4:void 0,_v$5:void 0}),r})()),(()=>{let r=O.cloneNode(!0);return(0,c.className)(r,n.tw`flex-1 break-words whitespace-normal overflow-hidden`),(0,x.insert)(r,()=>e.msg),r})(),(0,f.memo)(()=>(0,f.memo)(()=>!!i.closeButton,!0)()&&(()=>{let r=b.cloneNode(!0);return r.$$click=()=>_(e.id),(0,c.className)(r,n.tw`ml-2 w-6 h-6 opacity-70 flex-grow-0 cursor-pointer`),r.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><path d="M18 6 6 18M6 6l12 12"></path></svg>
`,r})())]}})),(0,p.effect)(r=>{let d=i.css[e.type],v={[n.tw`cursor-pointer`]:i.clickCardClose,[n.tw`h-0 max-h-0 opacity-0 mt-0`]:e.pending,[n.tw`mt-4`]:!e.pending},u=e.pending?"0px":i.padding;return d!==r._v$&&(0,c.className)(s,r._v$=d),r._v$2=(0,C.classList)(s,v,r._v$2),u!==r._v$3&&s.style.setProperty("padding",r._v$3=u),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),s})()},i={position:"top",closeButton:!1,width:"300px",progress:!0,clickCardClose:!0,padding:"10px",zIndex:"1000",duration:1e4,css:{red:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-red-500 dark:bg-red-600 text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,blue:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-indigo-500 dark:bg-black text-white rounded-lg flex flex-row items-center justify-center shadow-lg`,green:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-green-500 dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`,light:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-white dark:bg-black text-base dark:text-white rounded-lg border-1 border-gray-200 flex flex-row items-center justify-center shadow-lg`,dark:n.tw`relative transition-all duration-300 ease-out overflow-hidden w-full inline-block bg-black dark:bg-black text-white rounded-lg  flex flex-row items-center justify-center shadow-lg`},progresCss:{light:n.tw`bg-black opacity-20`,dark:n.tw`bg-white opacity-20`,blue:n.tw`bg-indigo-800`,red:n.tw`bg-red-800`,green:n.tw`bg-green-800`},Component:F},N=!1,H=()=>{N||(N=!0,typeof window!="undefined"&&(0,j.render)(I,document.body))},[m,h]=(0,a.createRoot)(()=>(0,M.createStore)({show:!0,list:[]})),_=e=>{h("list",t=>t.id==e,{pending:!0}),setTimeout(()=>{let t=[];for(let o=0;o<m.list.length;o++){let l=m.list[o];l.id!==e&&t.push(l)}h("list",t)},310)},R=()=>String(Math.random()),w=(e,t,o=i.duration)=>{H();let l=R();h("list",[...m.list,{msg:t,type:e,id:l,duration:o}]),setTimeout(()=>{_(l)},o)},X={options:i,setOptions:e=>{Object.assign(i,e),h("show",!1),h("show",!0)},red:(e,t=i.duration)=>{w("red",e,t)},blue:(e,t=i.duration)=>{w("blue",e,t)},green:(e,t=i.duration)=>{w("green",e,t)},light:(e,t=i.duration)=>{w("light",e,t)},dark:(e,t=i.duration)=>{w("dark",e,t)}},q={top:n.tw`fixed mx-auto top-10 left-1/2 -translate-x-1/2`,center:n.tw`fixed mx-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2`,bottom:n.tw`fixed mx-auto bottom-10 left-1/2 -translate-x-1/2`};function I(){return(0,g.createComponent)(a.Show,{get when(){return m.show},children:()=>(()=>{let e=b.cloneNode(!0);return(0,x.insert)(e,(0,g.createComponent)(a.For,{get each(){return m.list},children:t=>(0,g.createComponent)(i.Component,t)})),(0,p.effect)(t=>{let o=q[i.position],l=i.width,s=i.zIndex;return o!==t._v$6&&(0,c.className)(e,t._v$6=o),l!==t._v$7&&e.style.setProperty("width",t._v$7=l),s!==t._v$8&&e.style.setProperty("z-index",t._v$8=s),t},{_v$6:void 0,_v$7:void 0,_v$8:void 0}),e})()})}(0,y.delegateEvents)(["click"]);module.exports=E(A);
